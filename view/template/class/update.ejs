<% block('title', model.getTitle()); %>
<% block('titleTranslation', 'none'); %>
<% block('commands', {
    template: _view.get('_part/tool/modelExport'),
    url: _url('export/class', model)
}); %>
<%
const relationTemplate = _view.get('_part/attr/relation');
%>
<%- include(_view.getInternalTemplate('_form')) %>

<%- include(_view.get('_part/group/tabs'), {
    items: [{
        id: 'Main',
        active: true,
        content: _view.getInternalTemplate('_tabMain')
    },{
        id: 'Attributes',
        content: _view.getInternalTemplate('_tabAttributes')
    },{
        id: 'Views',
        content: _view.getInternalTemplate('_tabViews')
    },{
        id: 'Groups',
        content: _view.getInternalTemplate('_tabGroups')
    }, {
        id: 'Validators',
        content: {
            template: relationTemplate,
            attr: 'rules',
            css: 'no-label',
            data: {
                columns: [{
                    name: 'attrs',
                    format: 'relation'
                }, {
                    name: 'type',
                    translateData: ''
                }, {
                    name: 'param'
                }, {
                    name: 'orderNumber'
                }],
                order: {orderNumber: 1},
                link: null,
                unlink: null,
                modalSort: true
            }
        }
    },{
        id: 'Behaviors',
        hint: 'Additional class functionality',
        content: {
            template: relationTemplate,
            attr: 'behaviors',
            css: 'no-label',
            data: {
                columns: [{
                    name: 'type',
                    translateData: ''
                }, {
                    name: 'param'
                }, {
                    name: 'orderNumber'
                }],
                order: {orderNumber: 1},
                link: null,
                unlink: null,
                modalSort: true
            }
        }
    },{
        id: 'Indexes',
        content: {
            template: relationTemplate,
            attr: 'indexes',
            css: 'no-label',
            data: {
                columns: [{
                    name: 'attrs'
                },{
                    name: 'name'
                },{
                    name: 'unique',
                    format: 'boolean'
                },{
                    name: 'background',
                    format: 'boolean'
                }],
                link: null,
                unlink: null
            }
        }
    },{
        id: 'States',
        content: {
            template: relationTemplate,
            attr: 'states',
            css: 'no-label',
            data: {
                columns: [{
                    name: 'name'
                }, {
                    name: 'label'
                }, {
                    name: 'description'
                }, {
                    name: 'defaults',
                    format: 'boolean'
                }, {
                    name: 'readOnly',
                    format: 'boolean'
                }],
                order: {name: 1},
                link: null,
                unlink: null
            }
        }
    },{
        id: 'Transitions',
        content: {
            template: relationTemplate,
            attr: 'transitions',
            css: 'no-label',
            data: {
                columns: [{
                    name: 'name'
                }, {
                    name: 'label'
                }, {
                    name: 'startStates',
                    format: 'relation'
                }, {
                    name: 'finalState',
                    format: 'relation'
                }, {
                    name: 'orderNumber'
                }],
                order: {orderNumber: 1},
                modalSort: true,
                link: null,
                unlink: null
            }
        }
    },{
        id: 'Tree view',
        content: [{
            template: relationTemplate,
            attr: 'treeViewLevels',
            css: 'no-label',
            data: {
                columns: [{
                    name: 'refAttr',
                    format: {
                        name: 'relation',
                        url: _url('class-attr/update')
                    }
                },{
                    name: 'refClass',
                    escape: false
                },{
                    name: 'recursive',
                    format: 'boolean'
                }],
                order: {[model.PK]: 1},
                create: 'tree-view-level/create-by-class',
                link: null,
                unlink: null
            }
        }, {
            template: _view.get('_part/attr/checkbox'),
            attr: 'disableTreeView',
            css: 'no-label'
        }]
    },{
        id: 'Hierarchy',
        content: _view.getInternalTemplate('_tabHierarchy')
    }]
}) %>