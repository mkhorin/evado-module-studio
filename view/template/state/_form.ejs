<% layout(_view.get(_layout)) %>
<% block('tab', 'State') %>
<%
const checkboxTemplate = _view.get('_part/attr/checkbox');
const stringTemplate = _view.get('_part/attr/string');
%>
<%- include(stringTemplate, {
    attr: 'name'
}) %>

<%- include(stringTemplate, {
    attr: 'label'
}) %>

<%- include(_view.get('_part/attr/text'), {
    attr: 'description'
}) %>

<%- include(_view.get('_part/group/inline'), {
    items: [{
        template: checkboxTemplate,
        params: {
            attr: 'defaults',
            hint: 'This state will be assigned to each created object'
        }
    }, {
        template: checkboxTemplate,
        params: {
            attr: 'readOnly'
        }
    }]
}) %>

<%- include(_view.get('_part/group/columns'), {
    items: [{
        template: _view.get('_part/attr/select'),
        params: {
            attr: 'view',
            displayValue: model.getRelatedTitle('view'),
            items: null,
            select2: {
                ajax: {url: _url('view/list-select')},
                queryData: {pid: model.get('class')}
            },
            update: _url('view/update')
        }
    },{
        template: _view.get('_part/attr/static'),
        params: {
            attr: 'class',
            displayValue: model.getRelatedTitle('class'),
            url: ['class/update', model.rel('class')]
        }
    }]
}) %>


<%- include(_view.get('_part/attr/json'), {
    attr: 'options'
}) %>